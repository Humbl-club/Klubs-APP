<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
    
    <!-- iOS Progressive Web App Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Humbl Girls Club">
    <meta name="format-detection" content="telephone=no">
    <link rel="apple-touch-icon" href="/apple-icon-180.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/apple-icon-167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180.png">
    
    <!-- Premium Typography - Display & Body -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:opsz,wght@6..96,400;6..96,500;6..96,600;6..96,700&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" crossorigin="anonymous">
    
    <style>
      /* Fallback fonts to prevent blank text */
      body {
        font-family: 'Inter', 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      .font-display,
      .font-editorial {
        font-family: 'Bodoni Moda', 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      }
    </style>
    
    <title>Humbl Girls Club - Women's Community & Wellness</title>
    <meta name="description" content="A safe, empowering space for women to connect, share wellness challenges, and support each other" />
    <meta name="author" content="Humbl Girls Club" />

    <meta property="og:title" content="Humbl Girls Club - Women's Community App" />
    <meta property="og:description" content="A safe, empowering space for women to connect, share wellness challenges, and support each other" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/favicon.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Humbl Girls Club" />
    <meta name="twitter:description" content="A safe, empowering space for women to connect, share wellness challenges, and support each other" />
    <meta name="twitter:image" content="/favicon.png" />
  </head>

  <body>
    <div id="root">
      <!-- Capacitor loading fallback -->
      <div id="capacitor-loading" style="
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, #fef7f0 0%, #fdf2f8 100%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        z-index: 9999;
      ">
        <div style="text-align: center; padding: 40px;">
          <div style="
            width: 60px;
            height: 60px;
            border: 3px solid #f3f4f6;
            border-top: 3px solid #ec4899;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 24px;
          "></div>
          <h1 style="
            font-size: 28px;
            font-weight: 600;
            color: #1f2937;
            margin: 0 0 12px;
            background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
          ">Humbl Girls Club</h1>
          <p style="
            color: #6b7280;
            font-size: 16px;
            margin: 0 0 24px;
          ">Preparing your experience...</p>
          <div id="loading-details" style="
            color: #9ca3af;
            font-size: 14px;
            max-width: 300px;
          ">Connecting to app...</div>
        </div>
      </div>
      <style>
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
    </div>
    
    <script>
      // Capacitor initialization and debugging
      window.capacitorDebug = {
        logs: [],
        log: function(message, type = 'info') {
          const timestamp = new Date().toISOString();
          const logEntry = { timestamp, message, type };
          this.logs.push(logEntry);
          console[type](`[Capacitor Debug] ${message}`);
          
          // Update loading details
          const loadingDetails = document.getElementById('loading-details');
          if (loadingDetails) {
            loadingDetails.textContent = message;
          }
        }
      };
      
      // Track loading progress
      window.capacitorDebug.log('HTML loaded, initializing React app...');
      
      // Hide loading screen after app loads
      window.hideCapacitorLoading = function() {
        const loading = document.getElementById('capacitor-loading');
        if (loading) {
          loading.style.display = 'none';
        }
      };
      
      // Show error if app fails to load
      window.showCapacitorError = function(error) {
        const loading = document.getElementById('capacitor-loading');
        if (loading) {
          loading.innerHTML = `
            <div style="text-align: center; padding: 40px;">
              <div style="
                width: 60px;
                height: 60px;
                background: #fef2f2;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 24px;
              ">
                <svg width="24" height="24" fill="#ef4444" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
              </div>
              <h1 style="
                font-size: 24px;
                font-weight: 600;
                color: #ef4444;
                margin: 0 0 12px;
              ">Connection Error</h1>
              <p style="
                color: #6b7280;
                font-size: 16px;
                margin: 0 0 24px;
                max-width: 300px;
              ">${error || 'Failed to load the app. Please check your internet connection.'}</p>
              <button onclick="window.location.reload()" style="
                background: #ec4899;
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
              ">Try Again</button>
            </div>
          `;
        }
      };
      
      // Set timeout to show error if React doesn't load
      setTimeout(() => {
        if (document.getElementById('capacitor-loading').style.display !== 'none') {
          window.capacitorDebug.log('App loading timeout, showing error', 'error');
          window.showCapacitorError('App loading timeout. Please try again.');
        }
      }, 15000);
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
